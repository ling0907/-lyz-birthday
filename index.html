<!doctype html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="stylesheet" type="text/css" href="css/mobile.css">
</head>

<style>
    .iframepage {
        -webkit-overflow-scrolling: touch;
        overflow-x: scroll;
        overflow-y: hidden;
    }

    ::-webkit-scrollbar {
        width: 0px;
    }

    /*局部滚动的dom节点*/
    .scroll-el {
        overflow: auto;
    }
</style>

<body>
    <iframe src="./html/login.html" id="iframepage" scrolling="no" onload="changeFrameHeight()" frameborder="0"
        style="width:100%" marginwidth="0" marginheight="0"></iframe>
    <script src="js/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-1.8.4.min.js" type="text/javascript"></script>
    
    <script>
        // iframe高度自适应函数
        function changeFrameHeight() {
            const iframe = document.getElementById('iframepage');
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // 移动端：设置为全屏高度
                iframe.style.height = window.innerHeight + 'px';
                document.body.style.overflow = 'hidden';
                document.documentElement.style.overflow = 'hidden';
            } else {
                // 桌面端：动态计算内容高度
                try {
                    if (iframe.contentWindow && iframe.contentWindow.document.body) {
                        const height = iframe.contentWindow.document.body.scrollHeight;
                        iframe.style.height = height + 'px';
                    }
                } catch (e) {
                    // 跨域情况下使用默认高度
                    iframe.style.height = window.innerHeight + 'px';
                }
            }
        }
        
        // 窗口大小改变时重新计算
        window.addEventListener('resize', function() {
            changeFrameHeight();
        });
        
        // 屏幕方向改变时重新计算
        window.addEventListener('orientationchange', function() {
            setTimeout(function() {
                changeFrameHeight();
            }, 100);
        });
        
        // 移动端触摸事件优化
        if ('ontouchstart' in window) {
            document.addEventListener('touchstart', function() {}, { passive: true });
            document.addEventListener('touchmove', function() {}, { passive: true });
        }
        
        // 页面加载完成后调整
        window.addEventListener('load', function() {
            changeFrameHeight();
            setTimeout(changeFrameHeight, 100); // 延迟再次调整以确保内容加载完成
        });
    </script>
</body>

</html>